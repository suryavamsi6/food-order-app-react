(this["webpackJsonpfood-order-app-react"]=this["webpackJsonpfood-order-app-react"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={"cart-items":"Cart_cart-items__1STAT",total:"Cart_total__3MgGs",actions:"Cart_actions__nFDJB","button--alt":"Cart_button--alt__1uwmj",button:"Cart_button__3pXyp"}},function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__2osR3",summary:"CartItem_summary__k7-1a",price:"CartItem_price__3agAV",amount:"CartItem_amount__2YTsk",actions:"CartItem_actions__21gOi"}},,,,,,function(e,t,a){e.exports={nav:"Navbar_nav__hjaFZ","nav-btn":"Navbar_nav-btn__1G6Fe",counter:"Navbar_counter__1_aEa"}},function(e,t,a){e.exports={"about-div":"About_about-div__3v2_m","about-card":"About_about-card__9aB7o","main-image":"About_main-image__1LeOR"}},function(e,t,a){e.exports={dish:"Dish_dish__1PoMH",quantity:"Dish_quantity__23aKM",price:"Dish_price__28M90"}},function(e,t,a){e.exports={backdrop:"Modal_backdrop__1dZKD",modal:"Modal_modal__ZLHbL","slide-down":"Modal_slide-down__2z--g"}},,,function(e,t,a){e.exports={"dishes-div":"Dishes_dishes-div__2-GdG","dishes-card":"Dishes_dishes-card__3q7BB"}},,function(e,t,a){e.exports={loading:"DishList_loading__2q0Ug",error:"DishList_error__2GW78"}},,,function(e,t,a){e.exports={btn:"Button_btn__20IpK"}},function(e,t,a){e.exports={card:"Card_card__X2dPW"}},,,,function(e,t,a){e.exports={"order-form":"OrderForm_order-form__bvKSd"}},,,,,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),i=(a(36),a(3)),o=(a(37),a(14)),d=a.n(o),l=a(25),u=a.n(l),m=a(1),j=function(e){return Object(m.jsx)("button",{className:"".concat(u.a.btn," ").concat(e.className),onClick:e.onClick,type:e.type,children:e.children})},b=a(45),h=r.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){},clearCart:function(){}}),O=function(e){var t=Object(n.useContext)(h).items.reduce((function(e,t){return e+t.amount}),0);return Object(m.jsxs)("div",{className:d.a.nav,children:[Object(m.jsx)("h1",{children:"ReactMeals"}),Object(m.jsxs)(j,{onClick:e.onShowCart,className:d.a["nav-btn"],children:[Object(m.jsx)(b.a,{})," Your Cart",Object(m.jsxs)("div",{className:d.a.counter,children:[" ",t]})]})]})},f=a(15),p=a.n(f),x=a(26),v=a.n(x),_=function(e){return Object(m.jsx)("div",{className:"".concat(v.a.card," ").concat(e.className),children:e.children})},N=a.p+"static/media/meals.2971f633.jpg",C=function(){return Object(m.jsxs)("div",{className:p.a["about-div"],children:[Object(m.jsx)("div",{className:p.a["main-image"],children:Object(m.jsx)("img",{src:N})}),Object(m.jsxs)(_,{className:p.a["about-card"],children:[Object(m.jsx)("h1",{children:"Delicious Food, Delivered To You"}),Object(m.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(m.jsx)("p",{children:"All our meals are cooked with high quality ingredients, just-in-time and of course by experienced chefs!"})]})]})},g=a(20),y=a.n(g),A=a(16),k=a.n(A);function I(e){var t=Object(n.useContext)(h),a=Object(n.useRef)(0);return Object(m.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r=a.current.value,s=+r;0===r.trim().length||s<1||s>5||(t.addItem({id:e.id,name:e.name,amount:s,price:e.cost}),a.current.value=0)},className:k.a.dish,children:[Object(m.jsx)("h1",{children:e.name}),Object(m.jsx)("h3",{children:e.description}),Object(m.jsxs)("h1",{className:k.a.price,children:["$",e.cost]}),Object(m.jsxs)("div",{className:k.a.quantity,children:[Object(m.jsx)("h1",{children:"Amount"}),Object(m.jsx)("input",{type:"number",step:"1",defaultValue:"0",min:"0",ref:a})]}),Object(m.jsx)(j,{type:"submit",children:"+ Add"})]})}var R=a(21),D=a.n(R),F=a(27),S=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(),c=Object(i.a)(s,2),o=c[0],d=c[1],l=Object(n.useCallback)(function(){var e=Object(F.a)(D.a.mark((function e(t,a){var n,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 3:return(n=e.sent).ok||d("Something went wrong"),e.next=7,n.json();case 7:s=e.sent,a&&a(s),r(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[]);return{sendRequest:l,isLoading:a,error:o}},M=a(22),q=a.n(M),w=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1],c=S(),o=c.sendRequest,d=c.isLoading,l=c.error,u=function(e){var t=[];for(var a in e)console.log(a),t.push({id:a,name:e[a].name,description:e[a].description,cost:e[a].cost});s(t)};Object(n.useEffect)((function(){o({url:"https://food-order-app-react-60fc7-default-rtdb.firebaseio.com/dishes.json"},u)}),[o]);var j="";return j=d?Object(m.jsx)("p",{className:q.a.loading,children:"Loading..."}):r.map((function(e){return Object(m.jsx)(I,{id:e.id,name:e.name,description:e.description,cost:e.cost},e.id)})),l&&(j=Object(m.jsxs)("p",{className:q.a.error,children:[" ",l]})),j},L=function(){return Object(m.jsx)("div",{className:y.a["dishes-div"],children:Object(m.jsx)(_,{className:y.a["dishes-card"],children:Object(m.jsx)(w,{})})})},E=a(24),H=a(4),T={items:[],totalAmount:0},P=function(e,t){if("ADD"===t.type){var a,n=e.totalAmount+t.item.price*t.item.amount,r=e.items.findIndex((function(e){return e.id===t.item.id})),s=e.items[r];if(s){var c=Object(H.a)(Object(H.a)({},s),{},{amount:s.amount+t.item.amount});(a=Object(E.a)(e.items))[r]=c}else a=e.items.concat(t.item);return{items:a,totalAmount:n}}if("REMOVE"===t.type){var i,o=e.items.findIndex((function(e){return e.id===t.id})),d=e.items[o],l=e.totalAmount-d.price;if(1===d.amount)i=e.items.filter((function(e){return e.id!==t.id}));else{var u=Object(H.a)(Object(H.a)({},d),{},{amount:d.amount-1});(i=Object(E.a)(e.items))[o]=u}return{items:i,totalAmount:l}}return"CLEAR"===t.type?{items:[],totalAmount:0}:T},B=function(e){var t=Object(n.useReducer)(P,T),a=Object(i.a)(t,2),r=a[0],s=a[1],c={items:r.items,totalAmount:r.totalAmount,addItem:function(e){s({type:"ADD",item:e})},removeItem:function(e){s({type:"REMOVE",id:e})},clearCart:function(){s({type:"CLEAR"})}};return Object(m.jsx)(h.Provider,{value:c,children:e.children})},G=a(7),Z=a.n(G),V=a(17),J=a.n(V),K=function(e){return Object(m.jsx)("div",{className:J.a.backdrop,onClick:e.onHideCart})},$=function(e){return Object(m.jsx)("div",{className:J.a.modal,children:Object(m.jsx)("div",{className:J.a.content,children:e.children})})},Y=document.getElementById("overlays"),W=function(e){return Object(m.jsxs)(m.Fragment,{children:[c.a.createPortal(Object(m.jsx)(K,{onHideCart:e.onHideCart}),Y),c.a.createPortal(Object(m.jsx)($,{children:e.children}),Y)]})},X=a(8),z=a.n(X),U=function(e){var t="$".concat(e.price.toFixed(2));return Object(m.jsxs)("li",{className:z.a["cart-item"],children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:e.name}),Object(m.jsxs)("div",{className:z.a.summary,children:[Object(m.jsx)("span",{className:z.a.price,children:t}),Object(m.jsxs)("span",{className:z.a.amount,children:["x ",e.amount]})]})]}),Object(m.jsxs)("div",{className:z.a.actions,children:[Object(m.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(m.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},Q=a(31),ee=a(30),te=a.n(ee),ae=function(e){var t=S().sendRequest,a=Object(n.useContext)(h),r=Object(Q.a)({initialValues:{firstName:"",lastName:"",email:"",address:"",phoneNumber:""},validate:function(e){var t={};return e.firstName?e.firstName.length>15&&(t.firstName="Must be 15 characters or less"):t.firstName="Required",e.lastName?e.lastName.length>20&&(t.lastName="Must be 20 characters or less"):t.lastName="Required",e.address?e.address.length>40&&(t.address="Must be 40 characters or less"):t.address="Required",e.phoneNumber?e.phoneNumber.length>10&&(t.phoneNumber="Must be 10 characters or less"):t.phoneNumber="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(e){var n=Object(H.a)({firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,email:e.email,address:e.address,total:a.totalAmount},a.items);t({url:"https://food-order-app-react-60fc7-default-rtdb.firebaseio.com/orders.json",method:"POST",headers:{"Content-Type":"application/json"},body:n}),a.clearCart()}});return Object(m.jsxs)("form",{className:te.a["order-form"],onSubmit:r.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(m.jsx)("input",{id:"firstName",name:"firstName",type:"text",onChange:r.handleChange,value:r.values.firstName}),r.errors.firstName?Object(m.jsx)("div",{children:r.errors.firstName}):null,Object(m.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(m.jsx)("input",{id:"lastName",name:"lastName",type:"text",onChange:r.handleChange,value:r.values.lastName}),r.errors.lastName?Object(m.jsx)("div",{children:r.errors.lastName}):null,Object(m.jsx)("label",{htmlFor:"email",children:"Email"}),Object(m.jsx)("input",{id:"email",name:"email",type:"text",onChange:r.handleChange,value:r.values.email}),r.errors.email?Object(m.jsx)("div",{children:r.errors.email}):null,Object(m.jsx)("label",{htmlFor:"address",children:"Address"}),Object(m.jsx)("textarea",{id:"address",name:"address",onChange:r.handleChange,value:r.values.address}),r.errors.address?Object(m.jsx)("div",{children:r.errors.address}):null,Object(m.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number"}),Object(m.jsx)("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",onChange:r.handleChange,value:r.values.phoneNumber}),r.errors.phoneNumber?Object(m.jsx)("div",{children:r.errors.phoneNumber}):null,Object(m.jsx)("button",{type:"submit",children:"Order Now"})]})},ne=function(e){var t=Object(n.useContext)(h),a=Object(n.useState)(!1),r=Object(i.a)(a,2),s=r[0],c=r[1],o="$".concat(t.totalAmount.toFixed(2)),d=t.items.length>0,l=function(e){t.removeItem(e)},u=function(e){t.addItem(Object(H.a)(Object(H.a)({},e),{},{amount:1}))},j=Object(m.jsx)("ul",{className:Z.a["cart-items"],children:t.items.map((function(e){return Object(m.jsx)(U,{name:e.name,amount:e.amount,price:e.price,onRemove:l.bind(null,e.id),onAdd:u.bind(null,e)},e.id)}))});return Object(m.jsxs)(W,{onHideCart:e.onHideCart,children:[!s&&j,s&&d&&Object(m.jsx)(ae,{onHideCart:e.onHideCart}),Object(m.jsxs)("div",{className:Z.a.total,children:[Object(m.jsx)("span",{children:"Total Amount"}),Object(m.jsx)("span",{children:o})]}),Object(m.jsxs)("div",{className:Z.a.actions,children:[Object(m.jsx)("button",{onClick:e.onHideCart,className:Z.a["button--alt"],children:"Close"}),d&&Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),c(!0)},className:Z.a.button,children:"Order"})]})]})};var re=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(m.jsxs)(B,{children:[a&&Object(m.jsx)(ne,{onHideCart:function(){r(!1)}}),Object(m.jsx)(O,{onShowCart:function(){r(!0)}}),Object(m.jsx)(C,{}),Object(m.jsx)(L,{})]})},se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(re,{})}),document.getElementById("root")),se()}],[[43,1,2]]]);
//# sourceMappingURL=main.c31a703c.chunk.js.map